(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{146:function(e,t,a){e.exports={header:"style_header__3c3LW",icon:"style_icon__2s14n",cell:"style_cell__1duSl",container:"style_container__2nBYz"}},172:function(e,t,a){e.exports={header:"style_header__1Dk2i",icon:"style_icon__RIlYn",cell:"style_cell__2J6NU",container:"style_container__1i2F-",footer:"style_footer__3WV9G"}},259:function(e,t,a){e.exports=a(435)},267:function(e,t,a){},287:function(e,t,a){},292:function(e,t){},294:function(e,t){},323:function(e,t){},324:function(e,t){},380:function(e,t){},419:function(e,t){},422:function(e,t){},429:function(e,t,a){},432:function(e,t,a){},435:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),o=a(29),l=a.n(o),s=(a(264),a(267),a(12)),i=a(13),c=a(48),d=a(14),u=a(49),p=a(10),h=a(447),m=a(18),b=a.n(m),g=(a(287),a(24)),f=a(193),v=a(188),E=a(453),C=a(162),O=a(455),y=a(450),j=a(452),S=a(457),k=a(451),_=a(446),w=a(454),T=a(47),I=new Date,x=T.e.create({page:{backgroundColor:"white",color:"black"},titulo:{fontWeight:"extrabold",borderTop:"2px solid black",borderBottom:"2px solid black",letterSpacing:3,textAlign:"center",margin:20,padding:10},section:{borderTop:"4px solid black",borderBottom:"4px solid black",margin:20,padding:10},valor:{margin:30,padding:10,textAlign:"right"},firma:{margin:30,padding:10,textAlign:"center"},image:{width:200,height:200,marginLeft:180,borderTop:"2px solid black",borderBottom:"2px solid black"},viewer:{width:window.innerWidth/2,height:window.innerHeight}}),U=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(j.a,{trigger:r.a.createElement(O.a,{disabled:""===this.props.valores.valor,color:"black",icon:!0,size:"mini"},r.a.createElement(C.a,{name:"download"}),"Comprobante"),dimmer:"inverted",size:"small",closeIcon:!0},r.a.createElement(T.c,{style:x.viewer},r.a.createElement(T.a,null,r.a.createElement(T.d,{size:"A4",style:x.page},r.a.createElement(T.b,{style:x.image,bordered:"true",label:"Logo",src:"https://res.cloudinary.com/curso-node-jism/image/upload/v1661789319/sayausi/logo_qh6nxj.jpg"}),r.a.createElement(T.g,{style:x.titulo},r.a.createElement(T.f,null,"Comprobante: "),r.a.createElement(T.f,null,"Cementerio del GAD de Sayausi"),r.a.createElement(T.f,null,"Fecha de Pago: ",I.toDateString())),r.a.createElement(T.g,{style:x.section},r.a.createElement(T.f,null,"Boveda: ",this.props.valores.boveda),r.a.createElement(T.f,null,"Nombres: ",this.props.valores.nombre),r.a.createElement(T.f,null,"Apellidos: ",this.props.valores.apellido)),r.a.createElement(T.g,{style:x.valor},r.a.createElement(T.f,null,"Valor: ",this.props.valores.valor)),r.a.createElement(T.g,{style:x.firma},r.a.createElement(T.f,null,"____________________________"),r.a.createElement(T.f,null,this.props.valores.cedula),r.a.createElement(T.f,null,this.props.valores.responsable))))))}}]),t}(n.Component),D=a(191),A=a(246),N=a.n(A),P=(a(429),[{key:!0,text:"Pagado",value:!0},{key:!1,text:"No pagado",value:!1}]),F=[{key:"Arrendada",text:"Arrendada",value:"Arrendada"},{key:"Propia",text:"Propia",value:"Propia"},{key:"No definida",text:"No definida",value:"No definida"}],z=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={boveda:"",tipo:"",nombre:"",apellido:"",fecha:"",cedula:"",responsable:"",telefono:"",estado:"",valor:"",certificado:"",formClassName:"",formSuccessMessage:"",formErrorMessage:"",uploadedFile:null},a.handleInputChange=a.handleInputChange.bind(Object(p.a)(Object(p.a)(a))),a.handleSelectChange=a.handleSelectChange.bind(Object(p.a)(Object(p.a)(a))),a.handleSelectChangeTipo=a.handleSelectChangeTipo.bind(Object(p.a)(Object(p.a)(a))),a.handleSubmit=a.handleSubmit.bind(Object(p.a)(Object(p.a)(a))),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"UNSAFE_componentWillMount",value:function(){var e=this;this.props.userID&&b.a.get("".concat(this.props.server,"/api/users/").concat(this.props.userID)).then(function(t){e.setState({boveda:t.data.boveda,tipo:t.data.tipo,nombre:t.data.nombre,apellido:t.data.apellido,fecha:t.data.fecha,cedula:t.data.cedula,responsable:t.data.responsable,telefono:t.data.telefono,estado:t.data.estado,valor:t.data.valor,certificado:t.data.certificado})}).catch(function(e){console.log(e)})}},{key:"onImageDrop",value:function(e){this.setState({uploadedFile:e[0]}),this.handleImageUpload(e[0])}},{key:"handleImageUpload",value:function(e){var t=this;console.log(e),N.a.post("https://api.cloudinary.com/v1_1/curso-node-jism/upload").field("upload_preset","certi_sayausi").field("file",e).end(function(e,a){e&&console.error(e),""!==a.body.secure_url&&t.setState({certificado:a.body.secure_url})})}},{key:"handleInputChange",value:function(e){var t=e.target,a="checkbox"===t.type?t.checked:t.value,n=t.name;this.setState(Object(g.a)({},n,a))}},{key:"handleSelectChange",value:function(e,t){this.setState({estado:t.value})}},{key:"handleSelectChangeTipo",value:function(e,t){this.setState({tipo:t.value})}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault();var a={boveda:this.state.boveda,tipo:this.state.tipo,nombre:this.state.nombre,apellido:this.state.apellido,fecha:this.state.fecha,cedula:this.state.cedula,responsable:this.state.responsable,telefono:this.state.telefono,estado:this.state.estado,valor:this.state.valor,certificado:this.state.certificado},n=this.props.userID?"put":"post",r=this.props.userID?this.props.userID:"";b()({method:n,responseType:"json",url:"".concat(this.props.server,"/api/users/").concat(r),data:a}).then(function(e){t.setState({formClassName:"success",formSuccessMessage:e.data.msg}),t.props.userID?t.props.onUserUpdated(e.data.result):(t.setState({boveda:"",tipo:"",nombre:"",apellido:"",fecha:"",cedula:"",responsable:"",telefono:"",estado:"",valor:"",certificado:""}),t.props.onUserAdded(e.data.result))}).catch(function(e){e.response?e.response.data&&t.setState({formClassName:"warning",formErrorMessage:e.response.data.msg}):t.setState({formClassName:"warning",formErrorMessage:"Algo salio mal. "+e})})}},{key:"render",value:function(){var e=this.state.formClassName,t=this.state.formSuccessMessage,a=this.state.formErrorMessage;return r.a.createElement(k.a,{className:e,onSubmit:this.handleSubmit},r.a.createElement(S.a,{as:"h3",block:!0,color:"orange"},"Datos del Fallecido"),r.a.createElement(k.a.Group,{widths:"2"},r.a.createElement(k.a.Input,{width:5,label:"Boveda",type:"text",maxLength:"5",placeholder:"A0001",name:"boveda",required:!0,value:this.state.boveda,onChange:this.handleInputChange}),r.a.createElement(k.a.Input,{name:"tipo",control:_.a,label:"Tipo de Propiedad",options:F,placeholder:"",value:this.state.tipo,onChange:this.handleSelectChangeTipo})),r.a.createElement(k.a.Group,{widths:"2"},r.a.createElement(k.a.Input,{width:8,label:"Fecha de Defuncion",name:"fecha",type:"date",maxLength:"10",required:!0,pattern:"\\d{4}-\\d{2}-\\d{2}",value:this.state.fecha.split("T")[0],onChange:this.handleInputChange}),r.a.createElement(k.a.Input,{label:"Nombres del fallecido",type:"text",placeholder:"Pepito",name:"nombre",maxLength:"40",required:!0,value:this.state.nombre,onChange:this.handleInputChange}),r.a.createElement(k.a.Input,{label:"Apellidos del fallecido",type:"text",placeholder:"Perez",name:"apellido",maxLength:"40",required:!0,value:this.state.apellido,onChange:this.handleInputChange})),r.a.createElement(S.a,{as:"h3",block:!0,color:"purple"},"Datos del Responsable"),r.a.createElement(k.a.Group,{widths:"equal"},r.a.createElement(k.a.Input,{width:"5",label:"Cedula",type:"text",placeholder:"0104751987",name:"cedula",maxLength:"10",required:!0,value:this.state.cedula,onChange:this.handleInputChange}),r.a.createElement(k.a.Input,{label:"Nombre del Responsable",type:"text",placeholder:"Nombres y Apellidos",min:5,max:130,name:"responsable",value:this.state.responsable,onChange:this.handleInputChange})),r.a.createElement(k.a.Group,null,r.a.createElement(k.a.Input,{width:5,label:"Telefono",type:"text",placeholder:"Telefono",min:3,max:10,name:"telefono",required:!0,value:this.state.telefono,onChange:this.handleInputChange}),r.a.createElement(k.a.Input,{width:3,label:"Valor",type:"number",placeholder:"0,00",name:"valor",maxLength:"8",required:!0,value:this.state.valor,onChange:this.handleInputChange}),r.a.createElement(k.a.Field,{control:_.a,label:"Estado",options:P,placeholder:"",value:this.state.estado,onChange:this.handleSelectChange})),r.a.createElement(S.a,{as:"h3",block:!0,color:"blue"},"Certificado de Defunci\xf3n"),r.a.createElement("div",{className:"FileUpload"},r.a.createElement(D.a,{onDrop:this.onImageDrop.bind(this),multiple:!1,maxSize:5e5},function(e){var t=e.getRootProps,a=e.getInputProps;return r.a.createElement("div",t({className:"dropzone"}),r.a.createElement("input",a()),r.a.createElement("p",null,"Hacer click para seleccionar el archivo:"))})),r.a.createElement("div",null,r.a.createElement("div",{className:"Imagen"},r.a.createElement("p",null,this.state.certificado?"Certificado de Defunci\xf3n":"No existe Certificado de Defunci\xf3n"," "),r.a.createElement("img",{alt:"",src:this.state.certificado?this.state.certificado:"https://res.cloudinary.com/curso-node-jism/image/upload/v1662431973/sayausi/no_dis_m52par.png",height:"250px"}))),r.a.createElement(w.a,{success:!0,color:"blue",header:"Mensaje:",content:t}),r.a.createElement(w.a,{warning:!0,color:"yellow",header:"Advertenciasss!",content:a}),r.a.createElement(O.a.Group,{widths:"four",floated:"right"},r.a.createElement(U,{valores:this.state}),r.a.createElement(O.a,{name:"user",color:this.props.buttonColor,floated:"right"},r.a.createElement(C.a,{name:"save"}),this.props.buttonSubmitTitle)),r.a.createElement("br",null),r.a.createElement("br",null)," ")}}]),t}(n.Component),M=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(j.a,{trigger:r.a.createElement(O.a,{color:this.props.buttonColor,size:this.props.buttonSize},r.a.createElement(C.a,{name:this.props.iconName}),this.props.buttonTriggerTitle),dimmer:"inverted",closeIcon:!0},r.a.createElement(S.a,{icon:"user",content:this.props.headerTitle}),r.a.createElement(j.a.Content,null,r.a.createElement(z,{buttonSubmitTitle:this.props.buttonSubmitTitle,buttonColor:this.props.buttonColor,userID:this.props.userID,onUserAdded:this.props.onUserAdded,onUserUpdated:this.props.onUserUpdated,server:this.props.server})))}}]),t}(n.Component),L=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).handleOpen=function(e){return a.setState({modalOpen:!0})},a.handleClose=function(e){return a.setState({modalOpen:!1})},a.state={modalOpen:!1},a.handleOpen=a.handleOpen.bind(Object(p.a)(Object(p.a)(a))),a.handleClose=a.handleClose.bind(Object(p.a)(Object(p.a)(a))),a.handleSubmit=a.handleSubmit.bind(Object(p.a)(Object(p.a)(a))),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"handleSubmit",value:function(e){var t=this,a=e.target.getAttribute("data-userID");b()({method:"delete",responseType:"json",url:"".concat(this.props.server,"/api/users/").concat(a)}).then(function(e){t.handleClose(),t.props.onUserDeleted(e.data.result)}).catch(function(e){throw t.handleClose(),e})}},{key:"render",value:function(){return r.a.createElement(j.a,{trigger:r.a.createElement(O.a,{onClick:this.handleOpen,color:this.props.buttonColor,size:"mini"},r.a.createElement(C.a,{name:this.props.iconName}),this.props.buttonTriggerTitle),open:this.state.modalOpen,onClose:this.handleClose,dimmer:"inverted",size:"tiny",circular:!0},r.a.createElement(j.a.Header,null,this.props.headerTitle),r.a.createElement(j.a.Content,null,r.a.createElement("p",null,"Esta seguro de eliminar ",r.a.createElement("strong",null,this.props.user.nombre+" "+this.props.user.apellido," "),"?")),r.a.createElement(j.a.Actions,null,r.a.createElement(O.a,{onClick:this.handleSubmit,"data-userID":this.props.user._id,color:"red"},"Si"),r.a.createElement(O.a,{onClick:this.handleClose,color:"red"},"No")))}}]),t}(n.Component),R=T.e.create({page:{backgroundColor:"white",color:"black"},titulo:{fontWeight:"extrabold",borderTop:"2px solid black",borderBottom:"2px solid black",letterSpacing:3,textAlign:"center",margin:20,padding:10},section:{borderTop:"4px solid black",borderBottom:"4px solid black",margin:20,padding:10},valor:{margin:30,padding:10,textAlign:"right"},firma:{margin:30,padding:10,textAlign:"center"},image:{width:"100%",height:"100%",marginLeft:2,borderTop:"2px solid black",borderBottom:"2px solid black"},viewer:{width:window.innerWidth/2,height:window.innerHeight/2}}),B=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(j.a,{trigger:r.a.createElement(O.a,{disabled:!this.props.valores.certificado,color:this.props.buttonColor},r.a.createElement(C.a,{name:"download"}),this.props.buttonTriggerTitle),dimmer:"inverted",size:"small",closeIcon:!0},r.a.createElement(T.c,{style:R.viewer},r.a.createElement(T.a,null,r.a.createElement(T.d,{size:"A4",style:R.page},r.a.createElement(T.b,{style:R.image,bordered:"true",src:this.props.valores.certificado?this.props.valores.certificado:"https://res.cloudinary.com/curso-node-jism/image/upload/v1662431973/sayausi/no_dis_m52par.png"})))))}}]),t}(n.Component),q=a(146),H=a.n(q),G=(a(432),function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={pagos:[],formClassName:"",formSuccessMessage:"",formErrorMessage:"",uploadedFile:null},a.handleInputChange=a.handleInputChange.bind(Object(p.a)(Object(p.a)(a))),a.handleSubmit=a.handleSubmit.bind(Object(p.a)(Object(p.a)(a))),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"handleInputChange",value:function(e){var t=e.target,a="checkbox"===t.type?t.checked:t.value,n=t.name;this.setState(Object(g.a)({},n,a))}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault();var a={bovedapag:this.props.bovedapag,fechapag:this.state.fechapag,fechasig:this.state.fechasig,valorpag:this.state.valorpag};b()({method:"post",responseType:"json",url:"".concat(this.props.server,"/api/pagos/"),data:a}).then(function(e){t.setState({formClassName:"success",formSuccessMessage:e.data.msg})}).catch(function(e){e.response?e.response.data&&t.setState({formClassName:"warning",formErrorMessage:e.response.data.msg}):t.setState({formClassName:"warning",formErrorMessage:"Algo salio mal. "+e})})}},{key:"render",value:function(){var e=this.state.formClassName,t=this.state.formSuccessMessage,a=this.state.formErrorMessage;return r.a.createElement(k.a,{className:e,onSubmit:this.handleSubmit},r.a.createElement(S.a,{as:"h3",block:!0,color:"green"},"Registrar Pago:"),r.a.createElement(k.a.Group,{widths:"2"},r.a.createElement(k.a.Input,{width:8,label:"Fecha de Pago",name:"fechapag",type:"date",maxLength:"10",required:!0,pattern:"\\d{4}-\\d{2}-\\d{2}",onChange:this.handleInputChange}),r.a.createElement(k.a.Input,{width:8,label:"Fecha PROXIMA de Pago",name:"fechasig",type:"date",maxLength:"10",required:!0,pattern:"\\d{4}-\\d{2}-\\d{2}",onChange:this.handleInputChange}),r.a.createElement(k.a.Input,{width:3,label:"Valor",type:"number",placeholder:"0,00",name:"valorpag",maxLength:"8",required:!0,value:this.state.valorpag,onChange:this.handleInputChange}),r.a.createElement(O.a,{name:"user",color:this.props.buttonColor,floated:"right"},r.a.createElement(C.a,{name:"save"}),this.props.buttonSubmitTitle)),r.a.createElement(w.a,{success:!0,color:"blue",header:"Mensaje:",content:t}),r.a.createElement(w.a,{warning:!0,color:"yellow",header:"Advertenciasss!",content:a}),r.a.createElement("br",null),r.a.createElement("br",null)," ")}}]),t}(n.Component)),Q=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).handleOpen=function(e){return a.setState({modalOpen:!0})},a.handleClose=function(e){return a.setState({modalOpen:!1})},a.state={modalOpen:!1},a.handleOpen=a.handleOpen.bind(Object(p.a)(Object(p.a)(a))),a.handleClose=a.handleClose.bind(Object(p.a)(Object(p.a)(a))),a.handleSubmit=a.handleSubmit.bind(Object(p.a)(Object(p.a)(a))),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"handleSubmit",value:function(e){var t=this,a=e.target.getAttribute("data-pagoID");b()({method:"delete",responseType:"json",url:"".concat(this.props.server,"/api/pagos/").concat(a)}).then(function(e){t.handleClose()}).catch(function(e){throw t.handleClose(),e})}},{key:"render",value:function(){return r.a.createElement(j.a,{trigger:r.a.createElement(O.a,{onClick:this.handleOpen,color:this.props.buttonColor,size:"mini"},r.a.createElement(C.a,{name:this.props.iconName}),this.props.buttonTriggerTitle),open:this.state.modalOpen,onClose:this.handleClose,dimmer:"inverted",size:"tiny",circular:!0},r.a.createElement(j.a.Header,null,this.props.headerTitle),r.a.createElement(j.a.Content,null,r.a.createElement("p",null,"Esta seguro de eliminar  ?")),r.a.createElement(j.a.Actions,null,r.a.createElement(O.a,{onClick:this.handleSubmit,"data-pagoID":this.props.pagos._id,color:"red"},"Si"),r.a.createElement(O.a,{onClick:this.handleClose,color:"red"},"No")))}}]),t}(n.Component),W=a(172),V=a.n(W),J=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={pagos:[]},a.fetchPagos=a.fetchPagos.bind(Object(p.a)(Object(p.a)(a))),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"fetchPagos",value:function(){var e=this;b.a.get("".concat(this.props.server,"/api/pagos/boveda/").concat(this.props.valores.boveda)).then(function(t){e.setState({pagos:t.data}),console.log(e.state.pagos)}).catch(function(e){console.log(e)})}},{key:"componentDidMount",value:function(){this.fetchPagos()}},{key:"render",value:function(){var e=this,t=this.state.pagos.map(function(e){return e.valorpag}).reduce(function(e,t){return e+t},0);return r.a.createElement(j.a,{trigger:r.a.createElement(O.a,{color:this.props.buttonColor,size:this.props.buttonSize},r.a.createElement(C.a,{name:this.props.iconName}),this.props.buttonTriggerTitle),dimmer:"inverted",closeIcon:!0},r.a.createElement(S.a,{icon:"user",content:this.props.headerTitle}),r.a.createElement(j.a.Content,null,r.a.createElement(S.a,{as:"h3",block:!0,color:"orange"},"Detalle de pagos"),r.a.createElement(E.a,{celled:!0},r.a.createElement(E.a.Header,null,r.a.createElement(E.a.Row,null,(this.props.headers||[]).map(function(e,t){return r.a.createElement(E.a.HeaderCell,{key:t},r.a.createElement("div",{className:V.a.header},r.a.createElement("div",null,e)))}))),r.a.createElement(E.a.Body,null,(this.state.pagos||[]).map(function(t,a){return r.a.createElement(E.a.Row,null,(e.props.labels||[]).map(function(e,a){return r.a.createElement(E.a.Cell,null,r.a.createElement("div",{className:V.a.cell},"fechapag"===e||"fechasig"===e?t[e].split("T")[0]:t[e]||0))}),r.a.createElement(E.a.Cell,null,r.a.createElement(Q,{headerTitle:"Eliminar",buttonTriggerTitle:"",buttonColor:"red",pagos:t,server:e.props.server,iconName:"delete"})))})),r.a.createElement(E.a.Footer,null,r.a.createElement(E.a.Row,null,r.a.createElement(E.a.Cell,null),r.a.createElement(E.a.Cell,null),r.a.createElement(E.a.Cell,{textAlign:"right"}," Total : "),r.a.createElement(E.a.Cell,null,r.a.createElement("div",{className:V.a.footer},t," "))))),r.a.createElement(G,{buttonSubmitTitle:this.props.buttonSubmitTitle,buttonColor:this.props.buttonColor,bovedapag:this.props.valores.boveda,server:this.props.server})))}}]),t}(n.Component),Y=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(a=Object(c.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(o)))).state={page:0,pageSelection:"",searchQuery:"",header:""},a.componentDidMount=function(){var e=a.props.pageRows,t=void 0===e?10:e;a.setState({pageSelection:[0,t]})},a.componentDidUpdate=function(){var e=a.props,t=e.searchQuery,n=e.pageRows,r=void 0===n?10:n;t&&a.state.searchQuery!==a.props.searchQuery&&a.setState({searchQuery:t,pageSelection:[0,r],page:0})},a.dynamicsort=function(e,t){var a=1;return"desc"===t&&(a=-1),function(t,n){return t[e]<n[e]?-1*a:t[e]>n[e]?1*a:0*a}},a.handleSort=function(e){var t=a.props,n=t.pageRows,r=void 0===n?10:n,o=t.headers,l={};o.forEach(function(t){l=Object(v.a)({},l,Object(g.a)({},t,t!==e?"":"asc"===a.state[t]?"desc":"asc"))}),a.setState(Object(v.a)({header:e,pageSelection:[0,r],page:0},l))},a.getSort=function(e,t){var n=a.props,r=n.labels[n.headers.indexOf(e)];return t.sort(a.dynamicsort(r,"asc"===a.state[e]?"desc":"asc"))},a.searchOnData=function(e,t){return e?t.filter(function(t){for(var a={},n=0,r=Object.keys(t);n<r.length;n++){var o=r[n];a[o]=t[o]}for(var l=0,s=Object.keys(a);l<s.length;l++){var i=s[l];try{var c=a[i],d=new RegExp("W*("+e+")W*");if(d.test(c.toString().toLowerCase()))return!0;if(d.test(c))return!0}catch(u){return!1}}return!1}):t},a.renderHeaders=function(){var e=a.props.headers;return r.a.createElement(E.a.Header,null,r.a.createElement(E.a.Row,null,(e||[]).map(function(e,t){return r.a.createElement(E.a.HeaderCell,{key:t,onClick:function(){return a.handleSort(e)}},r.a.createElement("div",{className:H.a.header},r.a.createElement("div",null,e),r.a.createElement("div",{className:H.a.icon},r.a.createElement(C.a,{name:"asc"===a.state[e]?"caret up":"caret down"}))))})))},a.handleFooter=function(e){var t=a.props,n=t.pageRows,r=void 0===n?10:n,o=t.data,l=t.searchQuery,s=Math.ceil(a.searchOnData(l,o).length/r);e>=0&&e<s&&a.setState({pageSelection:0===e?[0,r]:[e*r,e*r+r],page:e})},a.getData=function(){var e,t=a.props,n=t.data,r=t.searchQuery,o=a.state,l=o.pageSelection,s=o.header,i=n||[];return r&&(i=a.searchOnData(r,i)),s&&(i=a.getSort(s,i)),l&&(i=(e=i).slice.apply(e,Object(f.a)(l))),i},a.renderData=function(){var e=a.props.labels,t=a.getData();return r.a.createElement(E.a.Body,null,(t||[]).map(function(t,n){return r.a.createElement(E.a.Row,{key:t._id},(e||[]).map(function(e,a){return r.a.createElement(E.a.Cell,{key:e._id},r.a.createElement("div",{className:H.a.cell},"fecha"===e?t[e].split("T")[0]:t[e]||0))}),r.a.createElement(E.a.Cell,{textAlign:"center"},r.a.createElement(C.a,{color:t.estado?"green":"red",name:t.estado?"checkmark box":"cancel",size:"large"})),r.a.createElement(O.a.Group,{widths:"4",size:"mini"},r.a.createElement(B,{valores:t,buttonTriggerTitle:"",buttonColor:"orange"}),r.a.createElement(J,{headerTitle:"Pagos",buttonTriggerTitle:"",buttonSubmitTitle:"",buttonColor:"green",valores:t,onUserUpdated:a.props.onUserUpdated,server:a.props.server,iconName:"dollar",buttonSize:"mini",labels:["bovedapag","fechapag","fechasig","valorpag"],headers:["Boveda","Fecha","Proximo Pago","Valor","Accion"]}),r.a.createElement(M,{headerTitle:"Editar",buttonTriggerTitle:"",buttonSubmitTitle:"Guardar",buttonColor:"blue",userID:t._id,onUserUpdated:a.props.onUserUpdated,server:a.props.server,iconName:"write",buttonSize:"mini"}),r.a.createElement(L,{headerTitle:"Eliminar",buttonTriggerTitle:"",buttonColor:"red",user:t,onUserDeleted:a.props.onUserDeleted,server:a.props.server,iconName:"delete"})))}))},a.getLastLimitDown=function(e,t){for(var a=0;e>0;)e-=t,a+=t;return a-t-1},a.renderFooter=function(){for(var e=a.props,t=e.pageRows,n=void 0===t?10:t,o=e.labels,l=e.data,s=e.searchQuery,i=e.footerPages,c=void 0===i?10:i,d=a.state.page,u=[],p=Math.ceil(a.searchOnData(s,l).length/n),h=d<c?1:Math.floor(d/c)*c+1,m=d>a.getLastLimitDown(p,c)?p:h+c-1,b=h;b<=m;b++)u=[].concat(Object(f.a)(u),[b]);return r.a.createElement(E.a.Footer,null,r.a.createElement(E.a.Row,null,r.a.createElement(E.a.HeaderCell,{colSpan:o.length+2},r.a.createElement(y.a,{floated:"right",pagination:!0},r.a.createElement(y.a.Item,{as:"a",icon:!0,onClick:function(){return a.handleFooter(d-1)}},r.a.createElement(C.a,{name:"chevron left"})),u.map(function(e,t){return r.a.createElement(y.a.Item,{key:t,style:e-1===d?{backgroundColor:"#E5E5E5"}:{},as:"a",onClick:function(){return a.handleFooter(e-1)}},e)}),r.a.createElement(y.a.Item,{as:"a",icon:!0,onClick:function(){return a.handleFooter(d+1)}},r.a.createElement(C.a,{name:"chevron right"}))))))},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(E.a,{celled:!0},this.renderHeaders(),this.renderData(),this.renderFooter())}}]),t}(n.PureComponent),X=a(458),K=a(445),Z=a(156),$=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).getLengthOfObject=function(e){return Object.keys(e).length},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.getLengthOfObject(this.props.data),t=this.props.data.map(function(e){return e.valor}).reduce(function(e,t){return e+t},0);return r.a.createElement(j.a,{trigger:r.a.createElement(O.a,{color:this.props.buttonColor,icon:!0},r.a.createElement(C.a,{name:"chart line"}),this.props.buttonTriggerTitle),dimmer:"inverted",size:"small",closeIcon:!0},r.a.createElement(j.a.Header,null,r.a.createElement(S.a.Content,null," ",r.a.createElement(C.a,{name:"chart line"}),this.props.headerTitle)),r.a.createElement(j.a.Content,null,r.a.createElement(S.a,{as:"h2"},r.a.createElement(C.a,{name:"home"})," ",r.a.createElement(S.a.Content,null,"Total de Bovedas:",r.a.createElement(Z.a,{size:"huge"},e))),r.a.createElement(S.a,{as:"h2"},r.a.createElement(C.a,{name:"money"})," ",r.a.createElement(S.a.Content,null,"Total Valores Pendientes:",r.a.createElement(Z.a,{size:"huge"},t)))))}}]),t}(n.Component),ee=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={search:""},a.handleInputs=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(g.a)({},n,r))},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.state.search;return r.a.createElement("div",{className:H.a.container},r.a.createElement(X.a,{columns:3},r.a.createElement(X.a.Column,null,r.a.createElement(M,{headerTitle:"A\xf1adir Boveda",buttonTriggerTitle:" A\xf1adir Boveda",buttonSubmitTitle:"Anadir",buttonColor:"blue",onUserAdded:this.props.onUserAdded,server:this.props.server,iconName:"user"})),r.a.createElement(X.a.Column,null,r.a.createElement($,{headerTitle:"Totales Registrados",buttonTriggerTitle:" Totales Registrados",buttonColor:"orange",data:this.props.data})),r.a.createElement(X.a.Column,null,r.a.createElement(K.a,{fluid:!0,label:"Buscar: ",placeholder:"Escriba ...",onChange:this.handleInputs,value:e,name:"search",size:"large",icon:"search",style:{width:"250px"}}))),r.a.createElement(Y,{data:this.props.data,headers:["Boveda","Nombre","Apellido","Fecha","Valor","Estado","Acciones"],labels:["boveda","nombre","apellido","fecha","valor"],pageRows:20,searchQuery:e,footerPages:5,onUserUpdated:this.props.onUserUpdated,onUserDeleted:this.props.onUserDeleted,server:this.props.server}))}}]),t}(n.Component),te=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(c.a)(this,Object(d.a)(t).call(this))).server="https://cementeriosayausi.herokuapp.com",e.state={users:[]},e.fetchUsers=e.fetchUsers.bind(Object(p.a)(Object(p.a)(e))),e.handleUserAdded=e.handleUserAdded.bind(Object(p.a)(Object(p.a)(e))),e.handleUserUpdated=e.handleUserUpdated.bind(Object(p.a)(Object(p.a)(e))),e.handleUserDeleted=e.handleUserDeleted.bind(Object(p.a)(Object(p.a)(e))),e}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.fetchUsers()}},{key:"fetchUsers",value:function(){var e=this;b.a.get("".concat(this.server,"/api/users/")).then(function(t){e.setState({users:t.data})}).catch(function(e){console.log(e)})}},{key:"handleUserAdded",value:function(e){var t=this.state.users.slice();t.push(e),this.setState({users:t})}},{key:"handleUserUpdated",value:function(e){var t=this.state.users.slice(),a=t.findIndex(function(t){return t._id===e._id});t.length>a&&(t[a]=e),this.setState({users:t})}},{key:"handleUserDeleted",value:function(e){var t=this.state.users.slice();t=t.filter(function(t){return t._id!==e._id}),this.setState({users:t})}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"App"},r.a.createElement("p",{className:"App-intro"},"Cementerio - GAD de la Parroquia Sayausi")),r.a.createElement(h.a,null,r.a.createElement(ee,{data:this.state.users,onUserAdded:this.handleUserAdded,onUserUpdated:this.handleUserUpdated,onUserDeleted:this.handleUserDeleted,server:this.server})),r.a.createElement("br",null))}}]),t}(n.Component),ae=function(e){e&&e instanceof Function&&a.e(1).then(a.bind(null,448)).then(function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,o=t.getLCP,l=t.getTTFB;a(e),n(e),r(e),o(e),l(e)})};l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(te,null),","),document.getElementById("root")),ae()}},[[259,3,2]]]);
//# sourceMappingURL=main.412d1e17.chunk.js.map